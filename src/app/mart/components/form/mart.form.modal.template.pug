include ../../../layouts/view-helpers/common

- formName = 'formService.form';
- modalName = 'modalRef';
- formSubmit = 'formService.submit'

+app-modal
  +app-form(formName, formSubmit)
    +app-modal-header(modalName)
      | {{ formService.result?.name ? 'Edit mart: '+ formService.result.name : 'Create mart'}}
    +app-modal-body
      .row
        .col-xs-4
          +app-modal-image-upload('martFileUpload')
            app-file-input(#martFileUpload, formControlName='imgToken', type='mart')
        .col-xs-8
          - name = 'title'
          - control = parseControl([formName, name])
          - label = 'Title'
          +app-form-input-group(control, name, label)

          - name = 'email'
          - control = parseControl([formName, name])
          - label = 'Email'
          +app-form-input-group(control, name, label, 'email')
            +app-form-errors(control)
              +app-form-error(control, 'email')
                | Invalid email

          - name = 'website'
          - control = parseControl([formName, name])
          - label = 'Website'
          +app-form-input-group(control, name, label, 'url')
            +app-form-errors(control)
              +app-form-error(control, 'url')
                | Invalid URL

          - name = 'contactNumber'
          - control = parseControl([formName, name])
          - label = 'Contact Number'
          +app-form-input-group(control, name, label)

      .row
        .col-xs-6
          - name = 'isActive';
          - control = parseControl([formName, name])
          +app-form-group(control)
            label  Is Active?
            div.col-xs-12
              label.radio-inline
                input(type='radio', [value]='true', formControlName=name, [checked]= control + ".value === true")
                |  Yes
              label.radio-inline
                input(type='radio', [value]='false',formControlName=name, [checked]= control + ".value === false")
                |  No

      .row
        - groupName = 'address'
        .col-xs-12(formGroupName = groupName)
          h3 Address
          hr
          .row
            .col-xs-6
              - name = 'addressLine1'
              - control = parseControl([formName, groupName, name])
              - label = 'Address Line1'
              +app-form-input-group(control, name, label)

            .col-xs-6
              - name = 'addressLine2'
              - control = parseControl([formName, groupName, name])
              - label = 'Address Line2'
              +app-form-input-group(control, name, label)

          .row
            .col-xs-6
              - name = 'town'
              - control = parseControl([formName, groupName, name])
              - label = 'Town/City'
              +app-form-input-group(control, name, label)

            .col-xs-6
              - name = 'county'
              - control = parseControl([formName, groupName, name])
              - label = 'County'
              +app-form-input-group(control, name, label)

          .row
            .col-xs-6
              - name = 'country'
              - control = parseControl([formName, groupName, name])
              - label = 'Country'
              +app-form-input-group(control, name, label)

            .col-xs-6
              - name = 'postcode'
              - control = parseControl([formName, groupName, name])
              - label = 'Postcode'
              +app-form-input-group(control, name, label)

    +app-modal-footer(formName, modalName)
